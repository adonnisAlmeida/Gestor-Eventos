<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="website_sale.continue_shopping" inherit_id="website_sale.cart" customize_show="True" name="Continue Shopping Button">
        <xpath expr="//a[@href='/shop/checkout']" position="before">
            <a href="/event" class="btn btn-default mb32">
                <span class="fa fa-chevron-left" />
                <span class="hidden-xs">Continue Shopping</span>
                <span class="visible-xs-inline">Continue</span>
            </a>
        </xpath>
    </template>

    <template id="website_sale.cart_lines" name="Shopping Cart Lines">
        <div t-if="not website_sale_order or not website_sale_order.website_order_line" class="js_cart_lines well well-lg">
          Your cart is empty!
        </div>
        <table class="table table-striped table-condensed js_cart_lines" id="cart_products" t-if="website_sale_order and website_sale_order.website_order_line">
            <thead>
                <tr>
                    <th class="td-img">Product</th>
                    <th class="text-center td-qty">Quantity</th>
                    <th class="text-right td-price">Price</th>
                </tr>
            </thead>
            <tbody>
                <t t-foreach="website_sale_order.website_order_line" t-as="line">
                    <tr>
                        <!-- <td t-if="not line.product_id.product_tmpl_id" class='td-img'></td> -->
                        <!-- <td align="center" t-if="line.product_id.product_tmpl_id" class='td-img'>
                            <span t-field="line.product_id.image_128" t-options="{'widget': 'image', 'class': 'img-rounded'}" />
                        </td> -->
                        <td width="50%" t-if="line.product_id.product_tmpl_id" class='td-product_name'>
                            <div>
                                <a t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
                                    <strong t-esc="line.product_id.with_context(display_default_code=False).display_name" />
                                </a>
                            </div>
                            <div class="text-muted hidden-xs small">
                                <t t-foreach="line.name.splitlines()" t-as="name_line">
                                    <span><t t-esc="name_line"/></span><br/>
                                </t>
                            </div>
                            <a href='#' class='js_delete_product hidden-xs no-decoration'> <small><i class='fa fa-trash-o'></i> Remove</small></a>
                        </td>
                        <td class="text-center td-qty">
                            <input type="text" disabled="disabled" class="js_quantity form-control quantity text-center" t-att-data-line-id="line.id" t-att-data-product-id="line.product_id.id" t-att-value="int(line.product_uom_qty)" />
                        </td>
                        <td class="text-right td-price" name="price">
                            <t t-if="(compute_currency(line.product_id.lst_price) - line.price_reduce ) &gt; 0.01  and website.get_current_pricelist().discount_policy=='without_discount'">
                                <del t-attf-class="#{'text-danger mr8'}" style="white-space: nowrap;" t-esc="compute_currency(line.product_id.price)" t-options="{'widget': 'monetary', 'display_currency': website.get_current_pricelist().currency_id, 'from_currency': website.currency_id}" />
                            </t>
                            <span t-field="line.price_reduce_taxexcl" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="sale.group_show_price_subtotal" />
                            <span t-field="line.price_reduce_taxinc" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="sale.group_show_price_total" />
                        </td>
                    </tr>
                </t>
            </tbody>
        </table>
        <div class="js_cart_lines row">
            <t t-call="website_sale.total">
                <t t-set='extra_class' t-value='"col-xs-12 col-sm-5 col-sm-push-7"'/>
                <t t-set='redirect'>/shop/cart</t>
            </t>
        </div>
    </template>

    <template id="website_sale.cart" name="Shopping Cart">
        <t t-call="website.layout">
            <div id="wrap">
                <div class="container oe_website_sale mt64">
                    <div class="row">
                        <div class="col-md-8 col-md-offset-2 oe_cart">
                            <div class="row">
                                <t t-call="website_sale.wizard_checkout">
                                    <t t-set="step" t-value="10" />
                                </t>
                            </div>
                            <div class="row">
                                <div class="col-md-12 o_website_sale_rightfit">
                                    <h2 class="mb8 mt8">Shopping Cart</h2>
                                    <div t-if="abandoned_proceed or access_token" class="mt8 mb8 alert alert-info"> <!-- abandoned cart choices -->
                                        <t t-if="abandoned_proceed">
                                            <p>Your previous cart has already been completed.</p>
                                            <p t-if="website_sale_order">Please proceed your current cart.</p>
                                        </t>
                                        <t t-if="access_token">
                                            <p>This is your current cart.</p>
                                            <p>
                                                <strong><a t-attf-href="/shop/cart/?access_token=#{access_token}&amp;revive=squash">Click here</a></strong> if you want to restore your previous cart. Your current cart will be replaced with your previous cart.</p>
                                            <p>
                                                <strong><a t-attf-href="/shop/cart/?access_token=#{access_token}&amp;revive=merge">Click here</a></strong> if you want to merge your previous cart into current cart.
                                            </p>
                                        </t>
                                    </div>
                                    <t t-call="website_sale.cart_lines" />
                                    <div class="clearfix" />
                                    <a t-if="not optional_products and website_sale_order and website_sale_order.website_order_line" class="btn btn-primary pull-right mb32 mr8" href="/shop/checkout">
                                        <span class="hidden-xs">Process Checkout</span>
                                        <span class="visible-xs-inline">Checkout</span>
                                        <span class="fa fa-chevron-right" />
                                    </a>
                                    <div class="oe_structure" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oe_structure" />
            </div>
        </t>
    </template>

    <template id="website_sale.cart_popover" name="Cart Popover">
        <div t-if="not website_sale_order or not website_sale_order.website_order_line" class="well well-lg">
                  Your cart is empty!
                </div>
        <t t-if="website_sale_order and website_sale_order.website_order_line">
            <t t-foreach="website_sale_order.website_order_line" t-as="line">
                <div class="row mb8 cart_line">
                    <!-- <div class="col-xs-3">
                        <span t-field="line.product_id.image_128" t-options="{'widget': 'image', 'class': 'img-rounded'}" />
                    </div>-->
                    <div class="col-xs-9">
                        <a t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
                            <span t-esc="line.product_id.with_context(display_default_code=False).display_name" class="h6" />
                        </a>
                    </div>
                    <div class="col-xs-3">
                        <span t-esc="int(line.product_uom_qty)" />
                    </div>
                </div>
            </t>
            <div class="text-center">
                <span class="h5">
                    <t t-call="website_sale.total">
                        <t t-set='hide_coupon'>True</t>
                    </t>
                </span>
                <a class="btn btn-primary" href="/shop/cart">
                       View Cart (<t t-esc="website_sale_order.cart_quantity" /> items)
                     </a>
            </div>
        </t>
    </template>

    <template id="website_sale.checkout">
        <t t-call="website.layout">
            <t t-set="additional_title">Checkout</t>
            <t t-set="no_footer">1</t>
            <div id="wrap">
                <div class="container oe_website_sale mt64">
                    <t t-set="same_shipping" t-value="bool(order.partner_shipping_id==order.partner_id or only_services)" />
                    <div class="row">
                        <div class="col-md-8 col-md-offset-2 oe_cart">
                            <div class='row'>
                                <t t-call="website_sale.wizard_checkout">
                                    <t t-set="step" t-value="20" />
                                </t>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <h2 class="page-header mt8">Billing Address</h2>
                                </div>
                                <div class="col-md-6 one_kanban">
                                    <t t-call="website_sale.address_kanban">
                                        <t t-set='contact' t-value="order.partner_id"/>
                                        <t t-set='selected' t-value="1"/>
                                        <t t-set='readonly' t-value="1"/>
                                    </t>
                                </div>
                            </div>
                            <t t-if="not only_services" groups="sale.group_delivery_invoice_address">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h2 class="page-header mt16 mb4">Shipping Address
                                        </h2>
                                    </div>
                                </div>
                                <div class="row all_shipping">
                                    <div class="col-md-12">
                                        <div class="row mt8">
                                            <div class="col-sm-12 col-md-12 one_kanban">
                                                <form action="/shop/address" method="post" class=''>
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                    <a class='a-submit btn btn-default mb16 btn-block'>
                                                        <i class="fa fa-plus-square" aria-hidden="true"></i> Add an address
                                                    </a>
                                                </form>
                                            </div>
                                            <t t-foreach="shippings" t-as="ship">
                                                <div class="col-sm-12 col-md-6 one_kanban">
                                                    <t t-call="website_sale.address_kanban">
                                                        <t t-set='contact' t-value="ship"/>
                                                        <t t-set='selected' t-value="order.partner_shipping_id==ship"/>
                                                        <t t-set='readonly' t-value="bool(len(shippings)==1)"/>
                                                        <t t-set='edit_billing' t-value="bool(ship==order.partner_id)"/>
                                                    </t>
                                                </div>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </t>
                            <div class="clearfix" />
                            <div>
                                <a href="/shop/cart" class="btn btn-default mb32">
                                    <span class="fa fa-chevron-left" /> Return to Cart</a>
                                <a class="btn btn-primary pull-right mb32 " href="/shop/confirm_order">Confirm <span class="fa fa-chevron-right" /></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
    
    <template id="website_event.registration_attendee_details" name="Registration Attendee Details">
        <div id="modal_attendees_registration" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg">
                <form id="attendee_registration" t-attf-action="/event/#{slug(event)}/registration/confirm" method="post" class="js_website_submit_form">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                            <h4 class="modal-title" id="myModalLabel"><strong>Attendees</strong></h4>
                        </div>
                        <div class="modal-body">
                            <div class="">
                                <t t-set="counter_type" t-value="1"/>
                                <t t-set="counter" t-value="0"/>
                                <t t-foreach="tickets" t-as="ticket">
                                    <h4 class="page-header mt16">
                                        <strong>
                                            Ticket Type #<t t-raw="counter_type"/>: <t t-esc="ticket['name']"/>
                                            <t t-if="ticket['price'] == 0">(Free)</t>
                                        </strong>
                                    </h4>
                                    
                                    <t t-foreach="range(1, ticket['quantity'] + 1)" t-as="att_counter" name="attendee_loop">
                                        <t t-set="counter" t-value="counter + 1"/>
                                        <t t-set="attendee_placeholder">Attendee #%s</t>
                                        
                                        <div class="row mb4">
                                            <div class="col-xs-12"><span class="h5"><strong t-esc="attendee_placeholder %counter" /></span></div> 
                                        </div>
                                        <div class="row">
                                            <div class="col-md-5"><strong>Full Name</strong></div>
                                            <div class="col-md-4"><strong>Email</strong></div>
                                            <div class="col-md-3"><strong>Passport or ID</strong></div>
                                        </div>
                                        <div class="row mb4">
                                            <div class="col-md-5"><input class='form-control' type='text' t-attf-name="#{counter}-name" required="This field is required" placeholder="Full name of attendee" t-att-value="counter == 1 and user_id.name or ''"/></div>
                                            <div class="col-md-4"><input class='form-control' type='email' t-attf-name="#{counter}-email" required="This field is required" placeholder="name@example.com" t-att-value="counter == 1 and user_id.email or ''"/></div>
                                            <div class="col-md-3"><input class='form-control' type='text' t-attf-name="#{counter}-passport" required="This field is required" placeholder="#######"/></div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-5">Institution</div>
                                            <div class="col-md-4"><strong>Country</strong></div>
                                            <div class="col-md-3"><strong>Gender</strong></div>
                                        </div>
                                        <div class="row mb32">
                                            <div class="col-md-5"><input class='form-control' type='text' t-attf-name="#{counter}-institution" placeholder="Institution of attendee" t-att-value="user_id.institution"/></div>
                                            <div class="col-md-4">
                                                <select t-attf-name="#{counter}-country_id" class="form-control" required="This field is required" placeholder="Select...">
                                                    <option value=''> </option>
                                                    <t t-foreach='website.get_countries()' t-as="country2">
                                                        <option t-esc='country2.name' t-att-value='country2.id' t-att-selected="country2.id == user_id.country_id.id" />
                                                    </t>
                                                </select>
                                            </div>
                                            <div class="col-md-3">
                                                <select t-attf-name="#{counter}-gender" class="form-control" required="This field is required" placeholder="Select...">
                                                    <option value=''> </option>
                                                    <option value='m' t-att-selected="user_id.gender == 'm' and counter == 1">Male</option>
                                                    <option value='f' t-att-selected="user_id.gender == 'f' and counter == 1">Female</option>
                                                    <option value='u' t-att-selected="user_id.gender == 'u' and counter == 1">Undefined</option>
                                                </select>
                                            </div>
                                            <input class='hidden' type='text' t-attf-name="#{counter}-ticket_id" t-attf-value="#{ticket['id']}"/>
                                            <input class='hidden' type='text' t-attf-name="#{counter}-pricelist_id" t-att-value="website.pricelist_id.id"/>
                                        </div>
                                    </t>
                                    <t t-set="counter_type" t-value="counter_type + 1"/>
                                </t>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="pull-left">
                                <button type="submit" class="btn btn-primary">Continue</button>
                                <button type="button" class="btn btn-default js_goto_event" data-dismiss="modal">Cancel Registration</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </template>
    <template id="website_sale.address" name="Address Management">
        <t t-set="no_footer">1</t>
        <t t-call="website.layout">
            <div id="wrap">
                <div class="container oe_website_sale mt64">
                    <div class="row">
                        <div class="col-md-8 col-md-offset-2 oe_cart">
                    <div class='row'>
                        <t t-call="website_sale.wizard_checkout">
                            <t t-set="step" t-value="20" />
                        </t>
                    </div>
                            <div class="row">
                                <t t-if="mode == ('new', 'billing')">
                                    <h2 class="page-header mt8 ml16">Your Address
                                        <small> or </small>
                                        <a href='/web/login?redirect=/shop/checkout' class='btn btn-primary' style="margin-top: -11px">Log In</a>
                                    </h2>
                                </t>
                                <t t-if="mode == ('edit', 'billing')">
                                    <h2 class="page-header mt8 ml16">Your Address</h2>
                                </t>
                                <t t-if="mode[1] == 'shipping'">
                                    <h2 class="page-header mt8 ml16">Shipping Address </h2>
                                </t>
                                <t t-if="error" t-foreach="error.get('error_message', [])" t-as="err">
                                    <h4 class="text-danger" t-esc="err" />
                                </t>
                                <form name="/shop/checkout" method="post" class="checkout_autoformat">
                                    <div t-attf-class="form-group #{error.get('name') and 'has-error' or ''} col-md-12 div_name">
                                        <label class="control-label" for="name">Name</label>
                                        <input type="text" name="name" class="form-control" t-att-value="'name' in checkout and checkout['name']" />
                                    </div>
                                    <div class="clearfix" />
                                    <t t-if="mode[1] == 'billing'">
                                        <div t-attf-class="form-group #{error.get('email') and 'has-error' or ''} col-md-6" id="div_email">
                                            <label class="control-label" for="email">Email</label>
                                            <input type="email" name="email" class="form-control" t-att-value="'email' in checkout and checkout['email']" />
                                        </div>
                                    </t>
                                    <div t-attf-class="form-group #{error.get('phone') and 'has-error' or ''} col-md-6" id="div_phone">
                                        <label class="control-label" for="phone">Phone</label>
                                        <input type="tel" name="phone" class="form-control" t-att-value="'phone' in checkout and checkout['phone']" />
                                    </div>
                                    <!-- <div class="clearfix" />
                                    <t t-if="mode == ('new', 'billing')">
                                        <div t-attf-class="form-group #{error.get('company_name') and 'has-error' or ''} col-md-6">
                                            <label class="control-label font-weight-normal label-optional" for="company_name">Company Name</label>
                                            <input type="text" name="company_name" class="form-control" t-att-value="'company_name' in checkout and checkout['company_name']" />
                                        </div>
                                        <div t-attf-class="form-group #{error.get('vat') and 'has-error' or ''} col-md-6 div_vat">
                                            <label class="control-label font-weight-normal label-optional" for="vat">TIN / VAT </label>
                                            <input type="text" name="vat" class="form-control" t-att-value="'vat' in checkout and checkout['vat']" />
                                        </div>
                                    </t> -->
                                    <div class="clearfix" />
                                    <div t-attf-class="form-group #{error.get('street') and 'has-error' or ''} col-md-12 div_street">
                                        <label class="control-label" for="street">Street <span class="hidden-xs"> and Number</span></label>
                                        <input type="text" name="street" class="form-control" t-att-value="'street' in checkout and checkout['street']" />
                                    </div>
                                    <!-- <div t-attf-class="form-group #{error.get('street2') and 'has-error' or ''} col-md-12 div_street2">
                                        <label class="control-label label-optional" for="street2">Street 2</label>
                                        <input type="text" name="street2" class="form-control" t-att-value="'street2' in checkout and checkout['street2']" />
                                    </div> -->
                                    <div class="clearfix" />
                                    <t t-set='zip_city' t-value='country and [x for x in country.get_address_fields() if x in ["zip", "city"]] or ["city", "zip"]'/>
                                    <t t-if="'zip' in zip_city and zip_city.index('zip') &lt; zip_city.index('city')">
                                        <div t-attf-class="form-group #{error.get('zip') and 'has-error' or ''} col-sm-4 div_zip">
                                            <label class="control-label label-optional" for="zip">Zip Code</label>
                                            <input type="text" name="zip" class="form-control" t-att-value="'zip' in checkout and checkout['zip']" />
                                        </div>
                                    </t>
                                    <div t-attf-class="form-group #{error.get('city') and 'has-error' or ''} col-sm-8 div_city">
                                        <label class="control-label" for="city">City</label>
                                        <input type="text" name="city" class="form-control" t-att-value="'city' in checkout and checkout['city']" />
                                    </div>
                                    <t t-if="'zip' in zip_city and zip_city.index('zip') &gt; zip_city.index('city')">
                                        <div t-attf-class="form-group #{error.get('zip') and 'has-error' or ''} col-sm-4 div_zip">
                                            <label class="control-label label-optional" for="zip">Zip Code</label>
                                            <input type="text" name="zip" class="form-control" t-att-value="'zip' in checkout and checkout['zip']" />
                                        </div>
                                    </t>
                                    <div class="clearfix" />
                                    <div t-attf-class="form-group #{error.get('country_id') and 'has-error' or ''} col-md-6 div_country">
                                        <label class="control-label" for="country_id">Country</label>
                                        <select id="country_id" name="country_id" class="form-control">
                                            <option value="">Country...</option>
                                            <t t-foreach="countries" t-as="c">
                                                <option t-att-value="c.id" t-att-selected="c.id == (country and country.id or -1)">
                                                    <t t-esc="c.name" />
                                                </option>
                                            </t>
                                        </select>
                                    </div>
                                    <div t-attf-class="form-group #{error.get('state_id') and 'has-error' or ''} col-md-6 div_state" t-att-style="(not country or not country.state_ids) and 'display: none'">
                                        <label class="control-label" for="state_id">State / Province</label>
                                        <select name="state_id" class="form-control" data-init="1">
                                            <option value="">State / Province...</option>
                                            <t t-foreach="country and country.state_ids or []" t-as="s">
                                                <option t-att-value="s.id" t-att-selected="s.id == ('state_id' in checkout and country and checkout['state_id'] != '' and int(checkout['state_id']))">
                                                    <t t-esc="s.name" />
                                                </option>
                                            </t>
                                        </select>
                                    </div>

                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                    <input type="hidden" name="submitted" value="1" />
                                    <input type="hidden" name="partner_id" t-att-value="partner_id or '0'" />
                                    <input type="hidden" name="callback" t-att-value="callback" />
                                    <!-- Example -->
                                    <input type="hidden" name="field_required" t-att-value="mode[1] == 'billing' and 'phone,name' or ''" />

                                    <div class="clearfix"/>
                                    <div style='padding: 0 15px'>
                                        <a t-att-href="mode == ('new', 'billing') and '/shop/cart' or '/shop/checkout'" class="btn btn-default mb32">
                                            <span class="fa fa-chevron-left" /> Back
                                        </a>
                                        <a class="btn btn-primary pull-right mb32 a-submit a-submit-disable a-submit-loading">
                                            <span>Next </span><span class="fa fa-chevron-right" />
                                        </a>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
    
    <template id="website_sale.payment" name="Payment">
        <t t-call="website.layout">
            <t t-set="additional_title">Select Payment Acquirer</t>
            <t t-set="no_footer">1</t>

            <div id="wrap">
                <div class="container oe_website_sale mt64">
                    <div class="row">
                        <div class="col-md-offset-2 col-lg-8 col-sm-9" t-if="errors">
                            <t t-foreach="errors" t-as="error">
                                <div class="alert alert-danger" t-if="error">
                                    <h4>
                                        <t t-esc="error[0]" />
                                    </h4>
                                    <t t-esc="error[1]" />
                                </div>
                            </t>
                        </div>
                        <div class="col-md-8 col-md-offset-2 oe_cart">
                          <div class='row'>
                            <t t-call="website_sale.wizard_checkout">
                                <t t-set="step" t-value="40" />
                            </t>
                         </div>
                         <div class="row">
                            <div class='col-md-12 o_website_sale_rightfit'>
                                <h2 class="mb8 mt8">Confirm Order</h2>
                                <table class="table table-striped table-condensed" id="cart_products" t-if="website_sale_order and website_sale_order.website_order_line">
                                    <thead>
                                        <tr>
                                            <th class='td-img'>Product</th>
                                            <th class='text-center td-qty'>Quantity</th>
                                            <th class='text-right td-price'>Price</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr t-foreach="website_sale_order.website_order_line" t-as="line">
                                            <!-- <td class='' colspan="2" t-if="not line.product_id.product_tmpl_id"></td> -->
                                            
                                            <td width="50%" t-if="line.product_id.product_tmpl_id" class='td-product_name'>
                                                <div>
                                                    <a t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
                                                        <strong t-esc="line.product_id.with_context(display_default_code=False).display_name" />
                                                    </a>
                                                </div>
                                                <div class="text-muted hidden-xs small">
                                                    <t t-foreach="line.name.splitlines()[0:]" t-as="name_line">
                                                        <span><t t-esc="name_line"/></span><br/>
                                                    </t>
                                                </div>
                                            </td>
                                            <td class='text-center td-qty'>
                                                <div t-esc="line.product_uom_qty" />
                                            </td>
                                            <td class="text-right td-price">
                                                <span t-field="line.price_unit" style="white-space: nowrap;" t-options="{'widget': 'monetary','from_currency': website_sale_order.pricelist_id.currency_id,'display_currency': website.currency_id}" />
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-12">
                                <t t-call="website_sale.total">
                                    <t t-set='extra_class' t-value='"col-xs-12 col-sm-5 col-sm-push-7"'/>
                                    <t t-set='redirect'>/shop/payment</t>
                                </t>
                            </div>
                            <div class="clearfix" />
                            <div class="oe_structure" />

                            <div id="payment_method" class="col-md-12 o_website_sale_rightfit" t-if="(form_acquirers or s2s_acquirers or tokens) and website_sale_order.amount_total">
                                <h3 class="mb24">Pay with </h3>
                                <t t-call="payment.payment_tokens_list">
                                    <t t-set="mode" t-value="'payment'"/>
                                    <t t-set="submit_txt" t-value="'Pay Now'"/>
                                    <t t-set="icon_class" t-value="'fa-lock'"/>
                                    <t t-set="pms" t-value="tokens"/>
                                    <t t-set="form_action" t-value="'/shop/payment/token'"/>
                                    <t t-set="prepare_tx_url" t-value="'/shop/payment/transaction/'"/>
                                    <t t-set="partner_id" t-value="partner"/>
                                </t>
                            </div>

                            <div t-if="not (form_acquirers or s2s_acquirers)">
                                <a class="btn-link"
                                    groups="base.group_system"
                                    t-attf-href="/web#return_label=Website&amp;action=#{payment_action_id}">
                                        <i class="fa fa-arrow-right" aria-hidden="true"></i> Add payment acquirers
                                </a>
                            </div>
                            <div class="js_payment mb64 row" t-if="not website_sale_order.amount_total" id="payment_method">
                                <div class="col-sm-12">
                                    <form target="_self" action="/shop/payment/validate" method="post" class="pull-right">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                        <a class="btn btn-primary a-submit">
                                            <span t-if="order.amount_total &gt; 0">Pay Now <span class="fa fa-long-arrow-right"></span></span>
                                            <span t-if="order.amount_total == 0">Confirm Order <span class="fa fa-long-arrow-right"></span></span>
                                        </a>
                                    </form>
                                </div>
                            </div>
                          </div>
                        </div>


                    </div>
                </div>
                <div class="oe_structure" />
            </div>
        </t>
    </template>

    <template id="website_sale.confirmation">
        <t t-call="website.layout">
            <t t-set="additional_title">Confirmed</t>
            <div id="wrap">
                <div class="container oe_website_sale mt64">
                    <div class="row">
                        <div class="col-md-9">
                            <h1 class="mb32"><span>Order</span> <em t-field="order.name" /> <t t-if="order.state == 'sale'"><span>Confirmed</span></t></h1>
                            <div class="thanks_msg">
                                <h2>Thank you for your order.
                                    <a class="btn btn-primary pull-right hidden-xs" href="/shop/print" target="_blank"><i class="fa fa-print"></i> Print</a>
                                </h2>
                            </div>
                        </div>
                    </div>
                        <div class="row">
                            <div class="col-md-9">
                                <div class="oe_cart">
                                    <h3 class="mt32 text-left">
                                        <strong>Order Details:</strong>
                                    </h3>
                                    <table class="table table-striped table-condensed">
                                        <thead>
                                            <tr>
                                                <th class='td-product_name'>Product</th>
                                                <th class='td-qty'>Quantity</th>
                                                <th class="text-right td-price">Unit Price</th>
                                                <th class="text-right td-price-total">Subtotal</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                          <tr t-foreach="order.order_line" t-as="line">
                                              <td class='td-product_name'>
                                                  <div>
                                                      <a t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
                                                          <strong t-esc="line.product_id.with_context(display_default_code=False).display_name"/>
                                                      </a>
                                                  </div>
                                                  <div class="text-muted hidden-xs small">
                                                      <t t-foreach="line.name.splitlines()[0:]" t-as="name_line">
                                                          <span><t t-esc="name_line"/></span><br/>
                                                      </t>
                                                  </div>
                                              </td>
                                              <td class='td-qty'>
                                                  <div id="quote_qty">
                                                      <span t-field="line.product_uom_qty"/>
                                                      <span class='hidden-xs' t-field="line.product_uom" groups="product.group_uom"/>
                                                  </div>
                                              </td>
                                              <td class='td-price'>
                                                  <span class="text-right">
                                                      <div t-field="line.price_unit"
                                                          t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}'/>
                                                  </span>
                                              </td>
                                              <td class='td-price-total'>
                                                  <div class="text-right"
                                                      t-field="line.price_subtotal"
                                                      t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}'/>
                                              </td>
                                          </tr>
                                        </tbody>
                                    </table>
                                    <table class='table'>
                                      <tr>
                                          <td class="col-md-8"></td>
                                          <td class="text-right-not-xs text-left-xs col-sm-2 col-xs-3">Subtotal:</td>
                                          <td class="text-right col-sm-2 col-xs-3">
                                              <span t-field="order.amount_untaxed" style="white-space: nowrap;" t-options="{'widget': 'monetary','from_currency': order.pricelist_id.currency_id,'display_currency': website.currency_id}" />
                                          </td>
                                      </tr>
                                      <tr>
                                          <td class='noborder'></td>
                                          <td class="text-right noborder">Taxes:</td>
                                          <td class="text-right-not-xs text-left-xs noborder">
                                               <span t-field="order.amount_tax" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': order.pricelist_id.currency_id, 'display_currency': website.currency_id}" />
                                          </td>
                                      </tr>
                                      <tr>
                                          <td class='noborder'></td>
                                          <td class="text-right"><strong>Total:</strong></td>
                                          <td class="text-right-not-xs text-left-xs">
                                              <strong t-field="order.amount_total"
                                                  t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}'/>
                                          </td>
                                      </tr>
                                    </table>
                                    <div class="clearfix" />
                                    <div class="oe_structure" />
                                    <h3 class="text-left">
                                        <strong>Payment Information:</strong>
                                    </h3>
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <td colspan="2">
                                                    <t t-esc="order.payment_acquirer_id.name" />
                                                </td>
                                                <td class="text-right" width="100">
                                                    <strong>Total:</strong>
                                                </td>
                                                <td class="text-right" width="100">
                                                    <strong t-field="order.amount_total" t-options="{'widget': 'monetary', 'display_currency': order.pricelist_id.currency_id}" />
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <t t-call="website_sale.payment_confirmation_status" />
                                    <t t-if="request.env['ir.config_parameter'].sudo().get_param('auth_signup.allow_uninvited') == 'True' and request.website.is_public_user()">
                                        <p class='alert alert-info mt16'>
                                            <a t-att-href='order.partner_id.signup_prepare() and order.partner_id.signup_url' class='btn btn-primary'>Sign Up</a>
                                             Now to Follow Your Order
                                        </p>
                                    </t>
                                </div>
                            </div>
                            <div class="col-md-3 hidden-sm hidden-xs text-muted">
                                <h3 class='mt32'>&amp;nbsp;</h3>
                                <t t-call='website_sale.bill_to'>
                                    <t t-set="order" t-value= "order"/>
                                </t>
                            </div>
                        </div>
                </div>
                <div class="oe_structure" />
            </div>
        </t>
    </template>
</odoo>